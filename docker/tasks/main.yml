---
# tasks file for docker
- block:
  - name: add GPG key for docker 
    apt_key:
      url: https://download.docker.com/linux/ubuntu/gpg
      state: present

  - name: add repository for docker 
    apt_repository:
      repo: 'deb [arch=amd64] https://download.docker.com/linux/ubuntu {{ ansible_distribution_release }} stable'
      state: present 
 
  - name: update cache
    apt:
      update_cache: yes 

  - name: install docker 
    apt:
      name: docker-ce 
      state: present 

  - name: check docker service 
    service:
      name: docker
      state: started
      enabled: yes
 
  - name: install python3-pip
    apt:
      name: python3-pip
      state: present

  - name: install docker-compose 
    apt: 
      name: docker-compose
      state: present
